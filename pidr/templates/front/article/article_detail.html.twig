{% extends 'base.html.twig' %}

{% block title %}{{ article.titre }}{% endblock %}

{% block body %}
    <div class="container mt-5">
        <h1>{{ article.titre }}</h1>
        <img src="{{ asset(article.urlimagearticle) }}" class="img-fluid mb-3" alt="{{ article.titre }}">
        <p><strong>Résumé :</strong> {{ article.contenue }}</p>
        <p>{{ article.contenue }}</p>
        <a href="{{ path('blog_index') }}" class="btn btn-secondary">Retour aux articles</a>
    </div>

 <div class="ms-3">
    <h2 class="mb-4">Commentaires</h2>
{% for commentaire in commentaires %}
    <div class="card mb-3 p-3 shadow-sm">
        <div class="d-flex justify-content-between align-items-center">
        <strong class="fw-bold">{% if commentaire.status == 1 %}
        Anonyme
    {% else %}
        {{ commentaire.utilisateur.nom }}
    {% endif %}
</strong>






     <div class="d-flex flex-column align-items-end">
        
        <small lass="text-muted"> {{ commentaire.dateCommentaire|date('d/m/Y') }} ,{{ commentaire.heure|date('H:i') }} </small>
<div class="dropdown">
                        <i class="fa-solid fa-ellipsis-vertical menu-icon" data-bs-toggle="dropdown" style="cursor: pointer;"></i>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="#" "> Signaler</a></li>
                            <li><a class="dropdown-item" href="{{ path('commentaire_delete', {'id': commentaire.getIdCommentaire()}) }}" "> Supprimer</a></li>
                            <li><a class="dropdown-item" href="{{ path('commentaire_edit', {'id': commentaire.getIdCommentaire()}) }}" ">Modifier</a></li>
                            <li><a class="dropdown-item" href="#" ">Repondre</a></li>

                        </ul>

    </div>
                    </div>
        </div> 
        
        <p class="mt-2">{{ commentaire.contenue }}</p>
    </div>
{% else %}
    <p>Aucun commentaire pour cet article.</p>
{% endfor %}

<div class="mt-5">
        <h2 class="mb-3">Ajouter un commentaire</h2>
        <div class="card p-4 shadow-sm">
{{ form_start(form) }}
<div class="mb-3">
                    {{ form_label(form.contenue, 'Votre commentaire', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.contenue, {'attr': {'class': 'form-control', 'rows': '3', 'placeholder': 'Écrivez votre commentaire ici...'}}) }}
 </div>
  
                <button type="submit" class="btn w-100" style="background-color: #66C0C6; border-color: #66C0C6; color: white; font-weight: bold; padding: 10px 20px; border-radius: 5px;"> Envoyer </button>
{{ form_end(form) }}

</div>
</div>
 </div>





{% endblock %}